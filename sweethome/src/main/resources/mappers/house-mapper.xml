<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="houseMapper">

	<resultMap type="house" id="houseResultSet">
		<result property="houseNo" column="HOUSE_NO"/>
		<result property="houseName" column="HOUSE_NAME"/>
		<result property="houseTitle" column="HOUSE_TITLE"/>
		<result property="houseIntroduce" column="HOUSE_INTRODUCE"/>
		<result property="shareSpace" column="SHARE_SPACE"/>
		<result property="personalSpace" column="PERSONAL_SPACE"/>
		<result property="traffic" column="TRAFFIC"/>
		<result property="convenience" column="CONVENIENCE"/>
		<result property="condition" column="CONDITION"/>
		<result property="status" column="STATUS"/>
		<result property="address" column="ADDRESS"/>
		<result property="latitude" column="LATITUDE"/>
		<result property="longitude" column="LONGITUDE"/>
	</resultMap>



	<!-- 하우스 등록 쿼리문 -->
	<insert id="insertHouse" parameterType="house">
  		INSERT INTO
  			  HOUSE
  			  	    (
  			  	      HOUSE_NO
  			  	     ,HOUSE_NAME
  			  	     ,HOUSE_TITLE
  			  	     ,HOUSE_INTRODUCE
  			  	     ,SHARE_SPACE
  			  	     ,PERSONAL_SPACE
  			  	     ,TRAFFIC
  			  	     ,CONVENIENCE
  			  	     ,CONDITION
  			  	     ,STATUS
  			  	     ,REPORT
  			  	     ,ADDRESS
  			  	     ,LATITUDE
  			  	     ,LONGITUDE
  			  	    )
  			 VALUES
  			 		(
  			 		  SEQ_ASK_NO.NEXTVAL
  			 		 ,#{houseName}
  			 		 ,#{houseTitle}
  			 		 ,#{houseIntroduce}
  			 		 ,#{shareSpace}
  			 		 ,#{personalSpace}
  			 		 ,#{traffic}
  			 		 ,#{convenience}
  			 		 ,DEFAULT
  			 		 ,DEFAULT
  			 		 ,DEFAULT
  			 		 ,#{address}
  			 		 ,#{latitude}
  			 		 ,#{longitude}
  			 		)
	</insert>
	<select id="selectHouse" parameterType="string" resultType="house">
		SELECT * FROM HOUSE WHERE HOUSE_NAME = #{houseName}
	</select>
	
	<select id="houseSearch" resultMap="houseResultSet">
		SELECT * FROM HOUSE WHERE STATUS = 'Y'
	</select>
	
	<select id="selectHouseCount" resultType="_int">
  		SELECT 
  				COUNT(*)
  		  FROM 
  		  		HOUSE
  		 WHERE
  		 		STATUS = 'Y'
  	</select>
  	

</mapper>