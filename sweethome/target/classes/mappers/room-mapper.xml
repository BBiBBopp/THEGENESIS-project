<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="roomMapper">
	<resultMap type="room" id="roomResultSet">
		<result column="ROOM_NO" property="roomNo"/>
		<result column="HOUSE_NO" property="houseNo"/>
		<result column="ROOM_NAME" property="roomName"/>
		<result column="GENDER" property="gender"/>
		<result column="PEOPLE" property="people"/>
		<result column="AREA" property="area"/>
		<result column="DEPOSIT" property="deposit"/>
		<result column="RENT" property="rent"/>
		<result column="EXPENSE" property="expense"/>
		<result column="UTILITY" property="utility"/>
		<result column="AVAILABLE_DATE" property="availableDate"/>
		<result column="STATUS" property="status"/>
	</resultMap>
	
	<!-- 방 등록 -->
	<insert id="insertRoom" parameterType="room">
		INSERT
			INTO ROOM(
						ROOM_NO
						,HOUSE_NO
						,ROOM_NAME
						,GENDER
						,PEOPLE
						,AREA
						,DEPOSIT
						,RENT
						,EXPENSE
						,UTILITY
						,AVAILABLE_DATE
						,STATUS
					)
			VALUES(
						 SEQ_ROOM_NO.NEXTVAL
						,SEQ_HOUSE_NO.CURRVAL
						,#{roomName}
						,#{gender}
						,#{people}
						,#{area}
						,#{deposit}
						,#{rent}
						,#{expense}
						,#{utility}
						,#{availableDate}
						,DEFAULT
					)
	</insert>
	
  	<!-- 현재 방 번호 확인 -->
  	<select id="selectRoomNo" resultType="_int">
		SELECT 
		        LAST_NUMBER AS ROOM_NO
		FROM 
		        USER_SEQUENCES 
		WHERE 
		        SEQUENCE_NAME = 'SEQ_ROOM_NO'
  	</select>
	
	

</mapper>